@import "tailwindcss";

@font-face {
  font-family: "Abject Failure";
  src: url("/AbjectFailure.otf") format("opentype");
  font-weight: 400 700;
  font-style: normal;
  font-display: swap;
}

:root {
  --background: #1b001b;
  --foreground: #ededed;
}

@theme inline {
  --color-background: var(--background);
  --color-foreground: var(--foreground);
  --font-sans: var(--font-geist-sans);
  --font-mono: var(--font-geist-mono);
}

@media (prefers-color-scheme: dark) {
  :root {
    --background: #1b001b;
    --foreground: #ededed;
  }
}

body {
  background: var(--background);
  color: var(--foreground);
  font-family: Arial, Helvetica, sans-serif;
}

/* Logo hero: position/size are driven by GSAP ScrollTrigger in LogoHero.tsx */
.logo-hero-wrapper {
  z-index: 30;
}

.logo-hero-svg {
  width: 100%;
  max-width: 32rem;
}

/* First-section fog: cap width on desktop so it doesn't get too wide */
@media (min-width: 1280px) {
  .foggy-corner {
    max-width: 420px;
  }
}

/* Section fog heights are set via Tailwind classes on the components */

/* Drops page: logo shimmer effect – two purples only, no pink */
.logo-shimmer {
  --duration: 2.2s;

  /* Only these two purples – no pink; narrow band for accent to avoid blend */
  background-image: linear-gradient(
    90deg,
    #421468 0%,
    #421468 35%,
    #6b21a8 50%,
    #421468 65%,
    #421468 100%
  ) !important;
  background-size: 200% 100% !important;
  background-color: #421468 !important; /* fallback; no pink */
  background-repeat: no-repeat !important;
  animation: logo-shimmer var(--duration) linear infinite;
  color: transparent; /* prevent any text color leaking in */

  -webkit-mask-image: url("/ColdCulture-white.svg");
  mask-image: url("/ColdCulture-white.svg");
  -webkit-mask-size: contain;
  mask-size: contain;
  -webkit-mask-repeat: no-repeat;
  mask-repeat: no-repeat;
  -webkit-mask-position: center;
  mask-position: center;
}

@keyframes logo-shimmer {
  0%   { background-position: 100% 0; }
  100% { background-position: -100% 0; }
}

/* Drops page: use inset only (no height) so mobile viewport is correct */
.drops-page-root {
  position: fixed;
  top: 0;
  left: 0;
  right: 0;
  bottom: 0;
  width: 100%;
  overflow: hidden;
}

.drops-bg-wrap {
  position: fixed;
  top: 0;
  left: 0;
  right: 0;
  bottom: 0;
  z-index: 0;
  pointer-events: none;
}

.drops-bg-overlay {
  position: fixed;
  top: 0;
  left: 0;
  right: 0;
  bottom: 0;
  z-index: 1;
  background: rgba(0, 0, 0, 0.45);
  pointer-events: none;
}

.drops-bg-layer {
  position: absolute;
  top: 0;
  left: 0;
  right: 0;
  bottom: 0;
  width: 100%;
}

/* Real img + object-fit so background is reliably full height on mobile */
.drops-bg-img {
  position: absolute;
  top: 0;
  left: 0;
  width: 100%;
  height: 100%;
  min-height: 100%;
  object-fit: cover;
  object-position: center;
  display: block;
}

.drops-bg-img-third {
  object-position: center 65%;
}

/* Mobile: size img to viewport so it's always full height regardless of parent */
@media (max-width: 768px) {
  .drops-bg-img {
    width: 100%;
    height: 100vh;
    height: 100dvh;
    min-height: 100vh;
    min-height: 100dvh;
  }
}

/* Drops page: light frosted card (no dark tint); type uses white stroke for legibility */
.drops-item-foggy {
  background: rgba(255, 255, 255, 0.06);
  -webkit-backdrop-filter: blur(24px) saturate(120%);
  backdrop-filter: blur(24px) saturate(120%);
  border: 1px solid rgba(255, 255, 255, 0.2);
  box-shadow: 0 8px 32px rgba(0, 0, 0, 0.2);
}

/* Drops page: dark transparent overlay above/behind extended product (no blur) */
.drops-active-backdrop {
  position: fixed;
  inset: 0;
  background: rgba(0, 0, 0, 0.6);
  z-index: 999;
  opacity: 0;
  pointer-events: none;
  transition: opacity 0.3s ease;
}
.drops-panel:has(.drops-item.active) .drops-active-backdrop {
  opacity: 1;
  pointer-events: auto;
}

/* Drops nav header (logo) stays above the dark backdrop so it stays visible */
.drops-panel > header {
  z-index: 1000;
}

/* Drops page: expanded card */
.drops-item.active {
  box-shadow: 0 -8px 30px rgba(0, 0, 0, 0.3);
}

/* Price + button hidden until GSAP reveals them */
.drops-item .item-price,
.drops-item .item-buy-btn {
  display: none;
}

/* Neon glass button (inspired by Halo Lab neon glass effect) */
.neon-glass-btn {
  position: relative;
  overflow: visible;
  z-index: 1;
  cursor: pointer;
  padding: 1em 3em;
  background:
    url('data:image/svg+xml,<svg xmlns="http://www.w3.org/2000/svg" width="200" height="200"><filter id="n"><feTurbulence type="fractalNoise" baseFrequency="0.8" numOctaves="4" stitchTiles="stitch"/></filter><rect width="200" height="200" filter="url(%23n)" opacity="0.04"/></svg>'),
    rgba(255, 255, 255, 0.01);
  transition: 0.4s ease-in-out;
  transition-property: background, text-shadow, box-shadow;
  -webkit-backdrop-filter: blur(6px);
  backdrop-filter: blur(6px);
  border-radius: 0.75em;
  border: none;
  font-family: inherit;
  text-align: center;
  letter-spacing: 0.05em;
  font-size: 1rem;
  line-height: 1.2;
  display: flex;
  align-items: center;
  justify-content: center;
  color: white;
  text-shadow:
    0 0.01em 0.2em rgba(227, 222, 255, 0.333),
    0 0.01em 0.5em rgba(227, 222, 255, 0.25);
  box-shadow:
    inset 0 0.01em 0.4em rgba(227, 222, 255, 0.2),
    inset 0 0.04em 0.18em rgba(154, 146, 210, 0.3),
    inset 0 0.98em 1em rgba(202, 172, 255, 0.15),
    inset 0 -0.82em 0.68em -0.64em rgba(96, 68, 144, 0.3),
    inset 0 0.07em 0.11em -0.04em rgba(255, 255, 255, 0.8),
    inset 0 0.39em 0.56em -0.36em rgba(255, 255, 255, 0.3);
}

.neon-glass-btn:hover,
.neon-glass-btn:focus {
  background: rgba(39, 0, 255, 0.25);
  text-shadow:
    0 0.01em 0.2em rgba(135, 110, 255, 1),
    0 0.01em 1em rgba(135, 110, 255, 1);
  box-shadow:
    inset 0 0.01em 0.4em rgba(135, 110, 255, 0.35),
    inset 0 0.04em 0.18em rgba(154, 146, 210, 0.4),
    inset 0 0.98em 1em rgba(202, 172, 255, 0.2),
    inset 0 -0.82em 0.68em -0.64em rgba(96, 68, 144, 0.4),
    inset 0 0.07em 0.11em -0.04em rgba(255, 255, 255, 1),
    inset 0 0.39em 0.56em -0.36em rgba(255, 255, 255, 0.5),
    0 0 1em rgba(135, 110, 255, 0.3);
}


/* Sold out card: dimmed; click is ignored in JS so it doesn't open */
.drops-item-sold-out {
  opacity: 0.65;
}
.drops-item-sold-out .item-description h2 {
  color: #9ca3af !important;
  overflow: visible;
}

/* Homepage: foggy glass + ice overlay at top of page (same as nav) */
.homepage-top-overlay {
  position: fixed;
  inset: 0;
  z-index: 25;
  pointer-events: none;
  overflow: hidden;
}

/* Foggy glass purple – same as nav .main-nav */
.homepage-glass {
  position: absolute;
  inset: 0;
  background: rgba(27, 0, 27, 0.55);
  -webkit-backdrop-filter: blur(24px) saturate(120%);
  backdrop-filter: blur(24px) saturate(120%);
  opacity: 0;
  transition: opacity 0.5s ease;
}

.homepage-top-overlay.at-top .homepage-glass {
  opacity: 1;
}

.homepage-ice-overlay {
  position: absolute;
  inset: 0;
  pointer-events: none;
  mix-blend-mode: screen;
}

.homepage-ice-edge {
  position: absolute;
  inset: 0;
  background-image: url("/IceTexture.png");
  background-size: 100% 100%;
  background-position: center;
  background-repeat: no-repeat;
  pointer-events: none;
  opacity: 0;
}

.homepage-ice-left {
  -webkit-mask-image: linear-gradient(to right, black 0%, black 30%, rgba(0,0,0,0.3) 55%, transparent 75%);
  mask-image: linear-gradient(to right, black 0%, black 30%, rgba(0,0,0,0.3) 55%, transparent 75%);
  -webkit-mask-size: 0% 100%;
  mask-size: 0% 100%;
  -webkit-mask-position: left center;
  mask-position: left center;
  -webkit-mask-repeat: no-repeat;
  mask-repeat: no-repeat;
}

.homepage-ice-right {
  -webkit-mask-image: linear-gradient(to left, black 0%, black 30%, rgba(0,0,0,0.3) 55%, transparent 75%);
  mask-image: linear-gradient(to left, black 0%, black 30%, rgba(0,0,0,0.3) 55%, transparent 75%);
  -webkit-mask-size: 0% 100%;
  mask-size: 0% 100%;
  -webkit-mask-position: right center;
  mask-position: right center;
  -webkit-mask-repeat: no-repeat;
  mask-repeat: no-repeat;
}

.homepage-ice-bottom {
  -webkit-mask-image: linear-gradient(to top, black 0%, black 30%, rgba(0,0,0,0.3) 55%, transparent 75%);
  mask-image: linear-gradient(to top, black 0%, black 30%, rgba(0,0,0,0.3) 55%, transparent 75%);
  -webkit-mask-size: 100% 0%;
  mask-size: 100% 0%;
  -webkit-mask-position: bottom center;
  mask-position: bottom center;
  -webkit-mask-repeat: no-repeat;
  mask-repeat: no-repeat;
}

/* Hero first section: scroll-driven ice in front of fog, same range as "Nice Right?" */
.hero-scroll-ice {
  position: fixed;
  inset: 0;
  z-index: 37;
  pointer-events: none;
  overflow: hidden;
  mix-blend-mode: screen;
}
